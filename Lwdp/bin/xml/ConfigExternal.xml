<?xml version="1.0" encoding="GB2312"?>
<Module Name = "LWDP" Modid = "8A74DBB9-F23A-4a33-83DE-1BACE814BFB6">
	<Property> 
		<ProjectName>TicketTcpServer</ProjectName>
		<Version>1.0</Version>
	</Property>  
	<Script Name = "GlobalInit">
	</Script>
	<Script Name = "GlobalUnInit">
	</Script>
	<TableSet>
		<PropertyTable Name = "ModuleLoadTable">
			<ModuleLoad Name = "ConsoleMgr" Modid = "9FC7011E-B2BF-411c-BB09-BC208DEE71DA" />
			<ModuleLoad Name = "ScriptMgr"  Modid = "CABBCCA4-1160-49cf-8450-F35E897202EA" />
			<ModuleLoad Name = "LuaMgr" 	Modid = "3FAAA9E8-4CBB-4496-A369-172077A3F5EE" />
			
			<ModuleLoad Name = "LogMgr"     Modid = "8BBC60DD-D652-454b-B522-6D19D5A1B97A" />
			<!--<ModuleLoad Name = "DctMgr" 	Modid = "A009B569-707F-4618-A089-C09F776ADEC2" /> -->
			<ModuleLoad Name = "EventMgr" 	Modid = "5D2C4C38-6B59-469a-9AE2-133FF44E3182" />
			<ModuleLoad Name = "ZmqMgr" 	Modid = "1C8B1ACD-89A4-48ab-8161-538B7E2545BE" />
			<ModuleLoad Name = "TimerMgr" 	Modid = "212ED676-7B73-43e7-B2F9-190649FD6EC4" />
			<ModuleLoad Name = "DbMgr"      Modid = "18D1C5FE-2D94-4a9b-B878-E8A51CA9AF67" />
			<ModuleLoad Name = "PerfMgr"    Modid = "9D54BB67-8906-4215-BA95-591FE6F52C03" />
			<ModuleLoad Name = "CommonUtilMgr"    Modid = "EC7C6508-461F-453c-B11F-2E18AC93BED1" />
			
			<ModuleLoad Name = "TSFrontend" Modid = "6AD26E68-071F-45d5-B5C1-7B3F7EE20D13" />
			<ModuleLoad Name = "ZmqBackend" Modid = "789D687B-8962-4cae-8C4A-B129B5B8312F" />
			<ModuleLoad Name = "TcpServer"  Modid = "85FFE433-F268-4728-8086-BD272EB10B66" />
			<ModuleLoad Name = "ACDevice"   Modid = "7BE77A1D-4430-4903-BFC3-501987FE9E31" />
		</PropertyTable>
	</TableSet>
	<Module Name = "ConfigMgr" Modid = "6FE0F631-1F70-4557-8156-2D30AA017631">
		<!--属性名不可重复-->
		<Property> 
			<Version>1.0</Version>
		</Property>
		<TableSet>
		</TableSet>
		<Script Name = "ConfigMgrInit">
		</Script>
	</Module>
	<Module Name = "ConsoleMgr" Modid = "9FC7011E-B2BF-411c-BB09-BC208DEE71DA">
		<!--属性名不可重复-->
		<Property> 
			<Version>1.0</Version>
			<ModuleDir>Plugins/ConsoleMgrDll.dll</ModuleDir>
		</Property>
		<TableSet>
		</TableSet>
		<Script Name = "ConsoleMgrInit">
		</Script>
	</Module>		
	<Module Name = "ScriptMgr" Modid = "CABBCCA4-1160-49cf-8450-F35E897202EA">
		<!--属性名不可重复-->
		<Property> 
			<Version>1.0</Version>
			<ModuleDir>Plugins/ScriptMgrDll.dll</ModuleDir>
		</Property>
		<TableSet>
		</TableSet>
		<Script Name = "ScriptMgrInit">
		</Script>
	</Module>	
	<Module Name = "LogMgr" Modid = "8BBC60DD-D652-454b-B522-6D19D5A1B97A">
		<!--属性名不可重复-->
		<Property> 
			<Version>1.0</Version>
			<ModuleDir>Plugins/LogMgrDll.dll</ModuleDir>
			<GlobalLevel>DEBUG</GlobalLevel>
			<!--<LogPattern>%p: %m %d{%H:%M:%S.%l %d %b %Y}%n</LogPattern>-->
			<LogPattern>[%p] %m%n</LogPattern>
		</Property>
		<TableSet>
			<PropertyTable Name = "LevelTable">
				<!-- STD直接打印  -->
				<LevelEntry ModuleName = "Test"  Level = "DEBUG" Type = "STD"/>
				<!-- File输出到文件  -->
				<LevelEntry ModuleName = "Test2" Level = "DEBUG" Type = "FILE" FileName = "Log0203.txt"/>
				<!-- File输出到Rolling文件  -->
				<LevelEntry ModuleName = "Test3" Level = "DEBUG" Type = "ROLFILE" FileName = "RolLog0203.txt" FileSize = ""/>
				<!-- File输出到DebugTool  -->
				<LevelEntry ModuleName = "Test4" Level = "DEBUG" Type = "REMOTE" WinId = "2"/>
				
				<LevelEntry ModuleName = "DbMgr"       Level = "DEBUG" Type = "STD"/>
				<LevelEntry ModuleName = "TCPSERVER"   Level = "DEBUG" Type = "STD"/>
				<LevelEntry ModuleName = "TSFRONTEND"  Level = "DEBUG" Type = "STD"/>
				<LevelEntry ModuleName = "ZMQBACKEND"  Level = "DEBUG" Type = "STD"/>
				<LevelEntry ModuleName = "ACDEVICE"    Level = "DEBUG" Type = "STD"/>
			</PropertyTable>
		</TableSet>
		<Script Name = "LogMgrInit">
		</Script>
	</Module>	
	<Module Name = "DctMgr" Modid = "A009B569-707F-4618-A089-C09F776ADEC2">
		<!--属性名不可重复-->
		<Property> 
			<Version>1.0</Version>
			<ModuleDir>Plugins/DctMgrDll.dll</ModuleDir>
		</Property>
		<TableSet>
		</TableSet>
		<Script Name = "DctMgrInit">
		</Script>
	</Module>	
	<Module Name = "LuaMgr" Modid = "3FAAA9E8-4CBB-4496-A369-172077A3F5EE">
		<!--属性名不可重复-->
		<Property> 
			<Version>1.0</Version>
			<ModuleDir>Plugins/LuaMgrDll.dll</ModuleDir>
		</Property>
		<TableSet>
			<PropertyTable Name = "LibraryTable">
				<!--<LibraryDirEntry>../LuaMgrDll/test.lua</LibraryDirEntry>-->
			</PropertyTable>
		</TableSet>
		<Script Name = "LuaMgrInit">
		</Script>
	</Module>	
	<Module Name = "EventMgr" Modid = "5D2C4C38-6B59-469a-9AE2-133FF44E3182">
		<!--属性名不可重复-->
		<Property> 
			<Version>1.0</Version>
			<ModuleDir>Plugins/EventMgrDll.dll</ModuleDir>
		</Property>
		<TableSet>
		</TableSet>
		<Script Name = "EventMgrInit">
		</Script>
	</Module>
	<Module Name = "ZmqMgr" Modid = "1C8B1ACD-89A4-48ab-8161-538B7E2545BE">
		<!--属性名不可重复-->
		<Property> 
			<Version>1.0</Version>
			<ModuleDir>Plugins/ZmqMgrDll.dll</ModuleDir>
		</Property>
		<TableSet>
		</TableSet>
		<Script Name = "ZmqMgrInit">
		</Script>
	</Module>
	<Module Name = "TimerMgr" Modid = "212ED676-7B73-43e7-B2F9-190649FD6EC4">
		<!--属性名不可重复-->
		<Property> 
			<Version>1.0</Version>
			<ModuleDir>Plugins/TimerMgrDll.dll</ModuleDir>
		</Property>
		<TableSet>
		</TableSet>
		<Script Name = "TimerMgrInit">
		</Script>
	</Module>
	<Module Name = "DbMgr" Modid = "18D1C5FE-2D94-4a9b-B878-E8A51CA9AF67">
		<!--属性名不可重复-->
		<Property> 
			<Version>1.0</Version>
			<ModuleDir>Plugins/DbMgrDll.dll</ModuleDir>
		</Property>
		<TableSet>
		</TableSet>
		<Script Name = "DbMgrInit">
		</Script>
	</Module>	
	<Module Name = "PerfMgr" Modid = "9D54BB67-8906-4215-BA95-591FE6F52C03">
		<!--属性名不可重复-->
		<Property> 
			<Version>1.0</Version>
			<ModuleDir>Plugins/PerfMgrDll.dll</ModuleDir>
			<!-- 1-on 0-off -->
			<PerfSwitch>1</PerfSwitch>  
		</Property>
		<TableSet>
		</TableSet>
		<Script Name = "PerfMgrInit">
		</Script>
	</Module>	
	<Module Name = "CommonUtilMgr" Modid = "EC7C6508-461F-453c-B11F-2E18AC93BED1">
		<!--属性名不可重复-->
		<Property> 
			<Version>1.0</Version>
			<ModuleDir>Plugins/CommonUtilMgr.dll</ModuleDir>
		</Property>
		<TableSet>
		</TableSet>
		<Script Name = "ConfigMgrInit">
		</Script>
	</Module>
	<Module Name = "TSFrontend" Modid = "6AD26E68-071F-45d5-B5C1-7B3F7EE20D13">
		<!--属性名不可重复-->
		<Property> 
			<Version>1.0</Version>
			<ModuleDir>Plugins/TSFrontend.dll</ModuleDir>
			<ConnetTarget>tcp://localhost:12136</ConnetTarget>
			<ServerPort>12135</ServerPort>
			<ListenBlock>128</ListenBlock>
			<RecvBufMaxLen>1048576</RecvBufMaxLen>
			<SendZmqTimeout>5</SendZmqTimeout>
			<RecvZmqTimeout>5</RecvZmqTimeout>
		</Property>
		<TableSet>
		</TableSet>
		<Script Name = "TSFrontend">
		</Script>
	</Module>
	<Module Name = "ZmqBackend" Modid = "789D687B-8962-4cae-8C4A-B129B5B8312F">
		<!--属性名不可重复-->
		<Property> 
			<Version>1.0</Version>
			<ModuleDir>Plugins/ZmqBackend.dll</ModuleDir>
			<FrontendTarget>tcp://*:12136</FrontendTarget>
			<!-- <BackendTarget>inproc://work_thread</BackendTarget>-->
			<BackendTarget>tcp://*:12137</BackendTarget> 
			<WorkThreadConnect>tcp://localhost:12137</WorkThreadConnect>  
			<!-- <WorkThreadConnect>inproc://work_thread</WorkThreadConnect>-->
			<CtrlConnect>inproc://ctrl_to_workthread</CtrlConnect>
			<WorkThreadNum>20</WorkThreadNum>
			
			<DbIp>10.3.18.129</DbIp>
			<DbUser>ptsf</DbUser>
			<DbPassword>123456</DbPassword>
			<DbSelect>scenic</DbSelect>
			<DbPort>3306</DbPort>
		</Property>
		<TableSet>
		</TableSet>
		<Script Name = "ZmqBackend">
		</Script>
	</Module>
	<Module Name = "TcpServer" Modid = "85FFE433-F268-4728-8086-BD272EB10B66">
		<!--属性名不可重复-->
		<Property> 
			<Version>1.0</Version>
			<ModuleDir>Plugins/TcpServer.dll</ModuleDir>
		</Property>
		<TableSet>
		</TableSet>
		<Script Name = "TcpServer">
		</Script>
	</Module>	
	<Module Name = "ACDevice" Modid = "7BE77A1D-4430-4903-BFC3-501987FE9E31">
		<!--属性名不可重复-->
		<Property> 
			<Version>1.0</Version>
			<ModuleDir>Plugins/ACDevice.dll</ModuleDir>
			<InitSql>select * from sc_gate where gate_no = '%s'</InitSql>
			<ConfigSql>select * from sc_gate where gate_no = '%s'</ConfigSql>
			<CardSql>insert into sc_swiping(swip_type, swip_no, gate_no, scenic_id, ticket_type, action, create_time) 
			                                VALUES (1, '%s', '%s', %s, %d, %d, '%s')
			</CardSql>
			<BulkThreadNum>1</BulkThreadNum>
			<BulkPageSize>200</BulkPageSize>
		</Property>
		<TableSet>
			<PropertyTable Name = "GateInfoCol">
				<GateIdCol>gate_no</GateIdCol>
				<SceneryIdCol>scenic_id</SceneryIdCol>
				<ManufacturerCol>manufacturer</ManufacturerCol>
				<PositionCol>position</PositionCol>
				<typeCol>role</typeCol>
				<statusCol>status</statusCol>
			</PropertyTable>
		
		</TableSet>
		<Script Name = "ACDevice">
		</Script>
	</Module>
	
</Module>
